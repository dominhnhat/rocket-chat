import React, { FC, memo } from 'react';

import './styles.css';

const PostInforCard: FC<{ message: any }> = ({ message }) => {
	const { data } = message;
	return (
		<li>
			<div className='post-infor'>
				<img className='post-infor__cover' src={data.thumbnail} />
				<div className='post-infor__content'>
					<p className='post-infor__content__title'>{data.title}</p>
					<div className='post-infor__content__icon-infor'>
						<div className='post-infor__content__icon-infor__items'>
							<svg width='16' height='14' viewBox='0 0 18 12' fill='none' xmlns='http://www.w3.org/2000/svg'>
								<path
									d='M0.667969 11.833V6.87499C0.667969 6.52766 0.744302 6.19766 0.896969 5.88499C1.04964 5.57299 1.25097 5.29199 1.50097 5.04199V2.70799C1.50097 1.99999 1.75097 1.39933 2.25097 0.905993C2.75097 0.413326 3.35497 0.166992 4.06297 0.166992H7.31297C7.63297 0.166992 7.9353 0.225992 8.21997 0.343992C8.50464 0.461992 8.76497 0.617992 9.00097 0.811992C9.23697 0.617992 9.50097 0.461992 9.79297 0.343992C10.0843 0.225992 10.3896 0.166992 10.709 0.166992H13.918C14.626 0.166992 15.2336 0.413326 15.741 0.905993C16.2476 1.39933 16.501 1.99999 16.501 2.70799V5.04199C16.751 5.29199 16.9523 5.57299 17.105 5.88499C17.2576 6.19766 17.334 6.52766 17.334 6.87499V11.833H15.584V10.229H2.41797V11.833H0.667969ZM9.87597 4.31199H14.751V2.70799C14.751 2.48599 14.671 2.29866 14.511 2.14599C14.3516 1.99333 14.154 1.91699 13.918 1.91699H10.709C10.473 1.91699 10.2753 1.99333 10.116 2.14599C9.95597 2.29866 9.87597 2.48599 9.87597 2.70799V4.31199ZM3.25097 4.31199H8.12597V2.70799C8.12597 2.48599 8.04964 2.29866 7.89697 2.14599C7.7443 1.99333 7.54964 1.91699 7.31297 1.91699H4.06297C3.82697 1.91699 3.63264 1.99333 3.47997 2.14599C3.3273 2.29866 3.25097 2.48599 3.25097 2.70799V4.31199ZM2.41797 8.47899H15.584V6.87499C15.584 6.63899 15.5076 6.44466 15.355 6.29199C15.2023 6.13866 15.008 6.06199 14.772 6.06199H3.25097C3.01497 6.06199 2.81697 6.13866 2.65697 6.29199C2.49764 6.44466 2.41797 6.63899 2.41797 6.87499V8.47899Z'
									fill='#1F2937'
								/>
							</svg>
							{data.totalBedRoom}
							<span>·</span>
						</div>
						<div className='post-infor__content__icon-infor__items'>
							<svg width='14' height='14' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'>
								<path
									d='M3.89503 6.062C3.47836 6.062 3.1277 5.91967 2.84303 5.635C2.55836 5.35033 2.41603 4.99967 2.41603 4.583C2.41603 4.16633 2.55836 3.81567 2.84303 3.531C3.1277 3.24633 3.47836 3.104 3.89503 3.104C4.3117 3.104 4.66236 3.24633 4.94703 3.531C5.2317 3.81567 5.37403 4.16633 5.37403 4.583C5.37403 4.99967 5.2317 5.35033 4.94703 5.635C4.66236 5.91967 4.3117 6.062 3.89503 6.062ZM2.49903 15.917C2.26303 15.917 2.06503 15.8407 1.90503 15.688C1.7457 15.5347 1.66603 15.34 1.66603 15.104C1.22136 15.104 0.846365 14.9477 0.541031 14.635C0.235031 14.323 0.0820312 13.9517 0.0820312 13.521V9.25H2.43703V8.625C2.43703 8.139 2.6037 7.72933 2.93703 7.396C3.27036 7.06267 3.68003 6.896 4.16603 6.896C4.42936 6.896 4.6757 6.948 4.90503 7.052C5.13436 7.156 5.33936 7.30533 5.52003 7.5L6.58203 8.667C6.67936 8.77767 6.7767 8.88167 6.87403 8.979C6.97136 9.07633 7.08236 9.16667 7.20703 9.25H12.791V2.458C12.791 2.222 12.7144 2.01733 12.561 1.844C12.4084 1.67 12.221 1.583 11.999 1.583C11.8737 1.583 11.7627 1.60733 11.666 1.656C11.5687 1.70467 11.4784 1.77067 11.395 1.854L10.353 2.896C10.4224 3.132 10.4294 3.36467 10.374 3.594C10.3187 3.82333 10.2284 4.042 10.103 4.25L8.06103 2.146C8.2557 2.00733 8.47103 1.92033 8.70703 1.885C8.94303 1.85033 9.16536 1.87467 9.37403 1.958L10.416 0.917C10.624 0.708333 10.867 0.545 11.145 0.427C11.4224 0.309 11.707 0.25 11.999 0.25C12.6104 0.25 13.1174 0.468667 13.52 0.906C13.9227 1.34333 14.124 1.86067 14.124 2.458V9.25H15.916V13.521C15.916 13.9657 15.7597 14.3407 15.447 14.646C15.1344 14.9513 14.7627 15.104 14.332 15.104C14.332 15.34 14.2524 15.5347 14.093 15.688C13.933 15.8407 13.742 15.917 13.52 15.917H2.49903ZM1.66603 13.771H14.332C14.402 13.771 14.461 13.7467 14.509 13.698C14.5577 13.6493 14.582 13.5903 14.582 13.521V10.583H1.41603V13.521C1.41603 13.5903 1.44036 13.6493 1.48903 13.698C1.53703 13.7467 1.59603 13.771 1.66603 13.771Z'
									fill='#1F2937'
								/>
							</svg>
							{data.totalWC}
							<span>·</span>
						</div>
						<div className='post-infor__content__icon-infor__items'>
							<svg width='13' height='14' viewBox='0 0 15 16' fill='none' xmlns='http://www.w3.org/2000/svg'>
								<path
									d='M1.66667 0.5H0V2.16667H1.66667V0.5ZM3.33333 0.5H5V2.16667H3.33333V0.5ZM8.33333 0.5H6.66667V2.16667H8.33333V0.5ZM10 0.5H11.6667V2.16667H10V0.5ZM13.3333 0.5H15V2.16667H13.3333V0.5ZM0 3.83333H1.66667V5.5H0V3.83333ZM1.66667 7.16667H0V8.83333H1.66667V7.16667ZM0 10.5H1.66667V12.1667H0V10.5ZM1.66667 13.8333H0V15.5H1.66667V13.8333ZM3.33333 13.8333H5V15.5H3.33333V13.8333ZM8.33333 13.8333H6.66667V15.5H8.33333V13.8333ZM13.3333 7.16667H15V8.83333H13.3333V7.16667ZM15 3.83333H13.3333V5.5H15V3.83333ZM10 12.1667V10.5H15V12.1667H13.3333V13.8333H11.6667V15.5H10V12.1667ZM13.3333 13.8333V15.5H15V13.8333H13.3333Z'
									fill='#1F2937'
								/>
							</svg>
							{data.acreage}
						</div>
					</div>
					<p className='post-infor__content__price'>{formatPrice(data.price, data.demand)}</p>
				</div>
			</div>
		</li>
	);
};

function formatPrice(price: number, demand: string) {
	if (price <= 1000) {
		return 'Giá liên hệ';
	}
	if (demand === 'Cho Thuê') {
		return `${price / 1e6} tr/tháng`;
	}
	return `${parseFloat((price / 1e9).toFixed(2))} tỷ`;
}

export default memo(PostInforCard);
